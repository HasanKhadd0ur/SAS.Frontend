<div class="container my-4">
  <div class="row align-items-start">
    <!-- Map on the left -->
    <div class="col-7 col-md-7 mb-3 mb-md-0">
      <div
        id="map"
        style="height: 400px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
      ></div>
    </div>

    <!-- Form on the right -->
    <div class="col-5 col-md-5">
      <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
        <h4 class="text-center mb-4">Define Your Interest Area</h4>

        <!-- Interest Name -->
        <div class="mb-3">
          <label for="interestName" class="form-label">Interest Name</label>
          <input
            id="interestName"
            type="text"
            class="form-control"
            formControlName="interestName"
            [class.is-invalid]="
              form.get('interestName')?.invalid && form.get('interestName')?.touched
            "
          />
          <div
            *ngIf="
              form.get('interestName')?.invalid && form.get('interestName')?.touched
            "
            class="invalid-feedback"
          >
            Interest Name is required.
          </div>
        </div>

        <!-- Radius -->
        <div class="mb-3">
          <label for="radiusInKm" class="form-label">Radius (km)</label>
          <input
            id="radiusInKm"
            type="number"
            class="form-control"
            formControlName="radiusInKm"
            (input)="onRadiusChange()"
            min="1"
            [class.is-invalid]="
              form.get('radiusInKm')?.invalid && form.get('radiusInKm')?.touched
            "
          />
          <div
            *ngIf="
              form.get('radiusInKm')?.invalid && form.get('radiusInKm')?.touched
            "
            class="invalid-feedback"
          >
            Radius must be at least 1 km.
          </div>
        </div>

        <!-- Lat / Lng -->
        <div class="mb-3">
          <label class="form-label">Location Coordinates</label>
          <div class="d-flex gap-2">
            <input
              type="number"
              class="form-control"
              formControlName="latitude"
              readonly
              style="flex: 1"
            />
            <input
              type="number"
              class="form-control"
              formControlName="longitude"
              readonly
              style="flex: 1"
            />
          </div>
        </div>

        <!-- Show City / Country clearly -->
        <div *ngIf="form.value.city || form.value.country" class="mb-3">
          <input
            type="text"
            class="form-control"
            [value]="form.value.city + ', ' + form.value.country"
            readonly
          />
        </div>

        <!-- Submit Button -->
        <div class="d-grid gap-2">
          <button
            type="submit"
            class="btn btn-primary btn-sm"
            [disabled]="form.invalid"
          >
            <i class="fas fa-plus-circle"></i> Create Interest
          </button>

          <button
            type="button"
            class="btn btn-secondary btn-sm"
            routerLink="/user-interests"
          >
            <i class="fas fa-list"></i> Show Interests List
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
