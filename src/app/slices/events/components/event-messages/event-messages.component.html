<div *ngIf="show" class="event-messages mt-4 p-3 border rounded shadow-sm bg-light">
  <h5 class="text-center mb-3"><i class="fas fa-envelope"></i> Event Messages</h5>

  <div *ngIf="loading" class="text-center text-muted">
    <i class="fas fa-spinner fa-spin fa-2x mb-2"></i>
    <p>Loading messages...</p>
  </div>

  <div *ngIf="!loading && eventMessages.length === 0" class="text-center text-muted">
    <i class="fas fa-inbox fa-2x mb-2"></i>
    <p>No messages found for this event.</p>
  </div>

  <ul *ngIf="eventMessages.length > 0" class="list-group">
    <li *ngFor="let msg of eventMessages" class="list-group-item d-flex align-items-start gap-3">
      <div
        class="avatar bg-secondary text-white rounded-circle d-flex align-items-center justify-content-center"
        style="width: 40px; height: 40px;"
      >
        <i class="fas fa-comment-alt"></i>
      </div>
      <div class="flex-grow-1">
        <p class="mb-1">
          {{ msg.content || msg.text || msg.message || msg.body || msg.description || 'No message content' }}
        </p>
        <small class="text-muted">{{ msg.createdAt ? (msg.createdAt | date:'short') : '' }}</small>
      </div>
    </li>
  </ul>
</div>
